@use "../abstracts" as *;

// ==========================================
// COOKIE CONSENT CUSTOMIZATION
// Vanilla Cookie Consent v3
// ==========================================

#cc-main {
    // Main modal colors
    #cm,
    #s-cnt .pm {
        border-radius: $border-radius-xl !important;
        box-shadow: $shadow-md !important;  // was lg
        // font-family: $font-family !important;
    }

    // Consent Modal (bottom popup)
    #cm {
        &.box.inline {
            max-width: 450px;
            margin: 1.5rem;
        }
    }

    #cm.show,
    #s-cnt.show {
        animation: cc-fade-in 0.3s ease-out !important;
    }
    
    // Title styling
    .cm__title,
    .pm__title {
        font-size: clamp(1.25rem, 3vw, 1.5rem) !important;
        font-weight: 700 !important;
        margin-bottom: 1rem !important;
        color: $color-text !important;
    }
    
    // Description text
    .cm__desc,
    .section__desc {
        font-size: clamp(0.875rem, 2vw, 1rem) !important;
        line-height: 1.6 !important;
        color: $color-text !important;
        opacity: 0.9;
    }
    
    // Buttons
    button {
        border-radius: 10px !important;
        font-weight: 600 !important;
        padding: 12px 24px !important;
        font-size: clamp(0.875rem, 2vw, 1rem) !important;
        transition: all $transition-base !important;
        border: none !important;
        font-family: inherit !important;
        cursor: pointer !important;
        
        &:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba($color-primary, 0.3) !important;
        }
        
        &:active {
            transform: translateY(0);
        }
    }
    
    // Primary button (Accept All)
    .cm__btn.cm__btn--primary,
    .pm__btn.pm__btn--primary {
        background: $color-primary !important;
        color: white !important;
        
        &:hover {
            background: $color-primary-hover !important;
        }
    }
    
    // Secondary button
    .cm__btn.cm__btn--secondary,
    .pm__btn.pm__btn--secondary {
        background: $color-bg-secondary !important;
        color: $color-text !important;
        
        &:hover {
            background: $color-border !important;
        }
    }
    
    // Footer links
    .cm__footer {
        margin-top: 1.5rem !important;
        padding-top: 1rem !important;
        border-top: 1px solid $color-border !important;
    }
    
    .cm__link,
    .cc__link {
        color: $color-primary !important;
        text-decoration: none !important;
        font-weight: 600 !important;
        transition: opacity $transition-base !important;
        
        &:hover {
            opacity: 0.8;
            text-decoration: underline !important;
        }
    }
    
    // Preferences Modal
    #s-cnt {
        z-index: $z-modal !important;
    }
    
    .pm {
        max-width: 700px !important;
        max-height: 90vh !important;
    }
    
    // Section headers
    .section__title {
        font-size: clamp(1rem, 2.5vw, 1.125rem) !important;
        font-weight: 600 !important;
        margin-bottom: 0.75rem !important;
        color: $color-text !important;
    }
    
    // Badge (Always Enabled)
    .pm__badge {
        background: $color-primary !important;
        color: white !important;
        padding: 4px 10px !important;
        border-radius: $border-radius-full !important;
        font-size: 0.75rem !important;
        margin-left: 8px !important;
        font-weight: 600 !important;
    }
    
    // Toggle switches
    .section__toggle {
        border-radius: 20px !important;
        width: 48px !important;
        height: 24px !important;
        transition: background $transition-base !important;
    }
    
    .toggle__icon {
        width: 20px !important;
        height: 20px !important;
        border-radius: 50% !important;
        transition: transform $transition-base !important;
    }
    
    .toggle-on {
        background: $color-primary !important;
    }
    
    .toggle-off {
        background: #9ca3af !important;
    }
    
    .toggle-readonly {
        background: #d1d5db !important;
        cursor: not-allowed !important;
    }
    
    // Category blocks
    .section {
        background: $color-bg-secondary !important;
        border-radius: $border-radius-md !important;
        margin-bottom: $spacing-sm !important;
        
        &:hover {
            background: $color-bg !important;
        }
    }
    
    // Cookie table
    .cookie-table {
        border: 1px solid $color-border !important;
        border-radius: $border-radius-md !important;
        overflow: hidden !important;
        margin-top: 1rem !important;
        
        th {
            background: $color-bg-secondary !important;
            font-weight: 600 !important;
            padding: 12px !important;
            font-size: 0.875rem !important;
            color: $color-text !important;
        }
        
        td {
            padding: 12px !important;
            font-size: 0.875rem !important;
            border-top: 1px solid $color-border !important;
            color: $color-text !important;
        }
    }
    
    // Scrollbar for preferences modal
    .pm__body {
        &::-webkit-scrollbar {
            width: 8px !important;
        }
        
        &::-webkit-scrollbar-track {
            background: $color-bg-secondary !important;
        }
        
        &::-webkit-scrollbar-thumb {
            background: $color-border !important;
            border-radius: 4px !important;
            
            &:hover {
                background: #9ca3af !important;
            }
        }
    }
    
    // Overlay
    #cm-ov,
    #s-ov {
        background: rgba(0, 0, 0, 0.7) !important;
        backdrop-filter: blur(4px) !important;
    }
}

// Animation
@keyframes cc-fade-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}



// Mobile responsiveness
@media (max-width: $breakpoint-mobile) {
    #cc-main {
        #cm.box.inline {
            margin: 1rem;
            max-width: calc(100% - 2rem);
        }
        
        .cm__btns {
            flex-direction: column !important;
        }
        
        .cm__btn {
            width: 100% !important;
            margin: 0.25rem 0 !important;
        }
        
        .pm {
            max-width: 95% !important;
            margin: 1rem auto !important;
        }
    }
}