@use "sass:color";
@use "../abstracts" as *;

// ==========================================
// FORM COMPONENTS
// ==========================================

.form-group {
    margin-bottom: $spacing-md;
    
    &:last-child {
        margin-bottom: 0;
    }
}

.form-label {
    display: block;
    margin-bottom: $spacing-xs;
    font-weight: 600;
    color: $color-text;
    font-size: clamp(0.875rem, 2vw, 0.9375rem);
    
    &--required::after {
        content: ' *';
        color: #ef4444;
    }
}

.form-input,
.form-textarea,
.form-select {
    width: 100%;
    padding: $spacing-sm $spacing-md;
    border: 2px solid $color-border;
    border-radius: $border-radius-md;
    font-family: inherit;
    font-size: clamp(0.9375rem, 2vw, 1rem);
    color: $color-text;
    background: $color-bg;
    transition: all $transition-base;
    
    &::placeholder {
        color: $color-text-light;
    }
    
    &:focus {
        outline: none;
        border-color: $color-primary;
        box-shadow: 0 0 0 3px color.change($color-primary, $alpha: 0.1);
    }
    
    &:disabled {
        background: $color-bg-secondary;
        cursor: not-allowed;
        opacity: 0.6;
    }
    
    &.error {
        border-color: $color-error;
        
        &:focus {
            box-shadow: 0 0 0 3px color.change($color-error, $alpha: 0.1);

        }
    }
    
    &.success {
        border-color: $color-success;
        
        &:focus {
            box-shadow: 0 0 0 3px color.change($color-success, $alpha: 0.1);
        }
    }
}

.form-textarea {
    min-height: 120px;
    resize: vertical;
    font-family: inherit;
}

.form-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right $spacing-sm center;
    padding-right: $spacing-xl;
    cursor: pointer;
}

.form-help {
    display: block;
    margin-top: $spacing-xs;
    font-size: 0.875rem;
    color: $color-text-light;
}

.form-error {
    display: block;
    margin-top: $spacing-xs;
    font-size: 0.875rem;
    color: $color-error;
}

.form-success {
    display: block;
    margin-top: $spacing-xs;
    font-size: 0.875rem;
    color: $color-success;
}

// Checkbox and Radio
.form-check {
    display: flex;
    align-items: center;
    gap: $spacing-sm;
    margin-bottom: $spacing-sm;
    
    &__input {
        width: 18px;
        height: 18px;
        cursor: pointer;
        
        &:focus {
            outline: 2px solid $color-primary;
            outline-offset: 2px;
        }
    }
    
    &__label {
        cursor: pointer;
        font-size: 0.9375rem;
        margin: 0;
        font-weight: 400;
    }
}

// Input Group (with icon or button)
.input-group {
    display: flex;
    gap: 0;
    
    .form-input {
        border-radius: $border-radius-md 0 0 $border-radius-md;
        border-right: none;
    }
    
    &__append {
        display: flex;
        align-items: center;
        padding: $spacing-sm $spacing-md;
        background: $color-bg-secondary;
        border: 2px solid $color-border;
        border-left: none;
        border-radius: 0 $border-radius-md $border-radius-md 0;
        
        .button {
            border-radius: 0 $border-radius-md $border-radius-md 0;
            margin: calc(-1 * #{$spacing-sm}) calc(-1 * #{$spacing-md});
        }
    }
    
    &__prepend {
        display: flex;
        align-items: center;
        padding: $spacing-sm $spacing-md;
        background: $color-bg-secondary;
        border: 2px solid $color-border;
        border-right: none;
        border-radius: $border-radius-md 0 0 $border-radius-md;
    }
    
    &__prepend + .form-input {
        border-radius: 0 $border-radius-md $border-radius-md 0;
        border-left: none;
    }
}

// Search Input
.search-input {
    position: relative;
    
    .form-input {
        padding-left: $spacing-xl;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: left $spacing-sm center;
    }
}

// File Input
.form-file {
    &__input {
        display: none;
    }
    
    &__label {
        display: inline-flex;
        align-items: center;
        gap: $spacing-sm;
        padding: $spacing-sm $spacing-lg;
        background: $color-bg-secondary;
        border: 2px solid $color-border;
        border-radius: $border-radius-md;
        cursor: pointer;
        transition: all $transition-base;
        
        &:hover {
            background: color.adjust($color-bg-secondary, $lightness: -5%); 
            // $lightness: â†’ parameter name
            border-color: $color-primary;
        }
    }
    
    &__name {
        color: $color-text-light;
        font-size: 0.875rem;
    }
}

// Form Row (inline fields)
.form-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: $spacing-md;
    
    @media (max-width: $breakpoint-tablet) {
        grid-template-columns: 1fr;
    }
}

// Form Actions (buttons)
.form-actions {
    display: flex;
    gap: $spacing-sm;
    margin-top: $spacing-lg;
    
    &--center {
        justify-content: center;
    }
    
    &--end {
        justify-content: flex-end;
    }
}