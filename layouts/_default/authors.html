{{ define "title" }}{{ .Title }} | {{ .Site.Title }}{{ end }}

{{ define "main" }}
<div class="container">
    <div class="authors-page">
        <h1>Our Authors</h1>
        <p>Meet the people behind the articles.</p>
        
        <div class="authors-grid">
            {{ range $slug, $author := .Site.Data.authors }}
                {{ $authorPosts := where $.Site.RegularPages "Params.author" $slug }}
                {{ $isDefault := eq $slug $.Site.Params.defaultAuthor }}
                
                <div class="author-card">
                    <img src="{{ $author.avatar }}" alt="{{ $author.name }}" class="author-card__avatar">
                    <h3>{{ $author.name }}</h3>
                    {{ with $author.role }}
                        <span class="author-card__role">{{ . }}</span>
                    {{ end }}
                    <p>{{ $author.bio | truncate 120 }}</p>
                    <div class="author-card__stats">
                        <span>{{ len (where $.Site.RegularPages "Params.author" $slug) }} articles</span>
                    </div>
                    <a href="/authors/{{ $slug }}" class="button button--small">View Articles</a>
                </div>
            {{ end }}
        </div>
    </div>
</div>

{{ end }}