{{ define "title" }}{{ .Title }} | {{ .Site.Title }}{{ end }}

{{ define "main" }}
<div class="container">
    <div class="blog__grid">
        <div class="blog__posts">
            {{ range .Paginator.Pages }}
                <article class="blog__post">
                    {{ with .Params.image }}
                        <div class="blog__post-image">
                            <img src="{{ . | relURL }}" alt="{{ $.Title }}">
                        </div>
                    {{ else }}
                        <div class="blog__post-image">{{ .Params.icon | default "ğŸ“" }}</div>
                    {{ end }}
                    
                    <div class="blog__post-content">
                        <div class="blog__post-meta">
                            <span>ğŸ“… {{ .Date.Format "Jan 02, 2006" }}</span>
                            {{ with .Params.author }}
                                <span>ğŸ‘¤ {{ . }}</span>
                            {{ end }}
                        </div>
                        
                        <h2 class="blog__post-title">
                            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                        </h2>
                        
                        <p class="blog__post-excerpt">{{ .Summary }}</p>
                        
                        <a href="{{ .RelPermalink }}" class="blog__read-more">
                            {{ i18n "readMore" }}
                        </a>
                    </div>
                </article>
            {{ end }}
            
            {{ if gt .Paginator.TotalPages 1 }}
            <div class="blog__pagination">
                {{ if .Paginator.HasPrev }}
                    <a href="{{ .Paginator.Prev.URL }}">â† {{ i18n "previous" }}</a>
                {{ end }}
                
                <span>{{ i18n "page" }} {{ .Paginator.PageNumber }} {{ i18n "of" }} {{ .Paginator.TotalPages }}</span>
                
                {{ if .Paginator.HasNext }}
                    <a href="{{ .Paginator.Next.URL }}">{{ i18n "next" }} â†’</a>
                {{ end }}
            </div>
            {{ end }}
        </div>

        {{ partial "sidebar.html" . }}
    </div>
</div>
{{ end }}